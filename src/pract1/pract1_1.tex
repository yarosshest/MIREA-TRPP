\chapter*{\LARGE{Цель практической работы}}
\addcontentsline{toc}{chapter}{Цель практической работы}
Получить навыки по работе с командной строкой и git’ом.

\chapter{Основные команды Git}

\section{Установка и настрока клиент git}
\subsection{Установка git}
Установка в Windows\par
Переходим на официальный сайт Git, в раздел загрузок.
Мы увидим несколько вариантов установки: разные разрядности,
портативная версия и даже установка из исходников.
Мы выберем Standalone-версию, для этого проще всего нажать ссылку
Click here to download, она всегда ведет на самую актуальную версию.
Запускаем скачанный файл.\par

\subsection{Настройка git}
\begin{enumerate}
	\item Открываем терминал.
	\item Необходимо выполнить следующие команды:
	\begin{verbatim}
		git config --global user.name "Your Name"
		git config --global user.email "your_email@whatever.com"
	\end{verbatim}
	\item Необходимо выполнить следующие команды:
	\begin{verbatim}
		git config --global core.autocrlf input
		git config --global core.safecrlf warn
	\end{verbatim}
	\item Необходимо выполнить следующую команды:
	\begin{verbatim}
		git config --global core.quotepath off
	\end{verbatim}
	\item Необходимо выполнить следующую команды:
	\begin{verbatim}
		git config --global core.quotepath off
	\end{verbatim}
\end{enumerate}
Для проверки верности всех введенных команд, введите:
\begin{verbatim}
	git config --list
\end{verbatim}

\img{./gall_1/png_1}{Настройка git}

\section{Создарние локальный репозиторий и добавление в него несколько файлов}

Выполняем команду \texttt{git init}
После выполнения данной команды, должно высветиться данное сообщение, показанное на рис.\ref{fig:Создание репозитория git}

\img{./gall_1/png_2.png}{Создание репозитория git}


\section{Добавление файлов в репозиторий}
Далее, командой \texttt{touch file} создадим несколько текстовых файлов.
Чтобы добавить файл в репозиторий необходимо выполнить следующее:
\begin{enumerate}
	\item Вводим команды:
	\begin{verbatim}
		git add <Название вашего файла>
		git commit -m "Ваш текст для коммита"
	\end{verbatim}
	\item Чтобы проверить состояние репозитория,
	выполним команду: \texttt{git~status}.
	Команда проверки состояния сообщит, что коммитить нечего.
	Это означает, что в репозитории хранится текущее состояние
	рабочего каталога, и нет никаких изменений, ожидающих записи.
\end{enumerate}
Результат этих действий показан на рисунке\ref{fig:Добавление файлов в репозиторий и первый коммит}

\img{./gall_1/png_3.png}{Добавление файлов в репозиторий и первый коммит}


\section{Изменение файла}

Далее внесем изменения в один из файлов.
Путем перенаправления вывода команды
\texttt{echo} в файл.
Добавим изменения в индекс командой:
\texttt{git~add~<имя~файла>}
Чтобы проверить внесение команды в индекс,
git предоставляет команду \texttt{git~status}.
Все эти действия отображены
на рисунке\ref{fig:Индексирование изменений и их проверка}

\img{./gall_1/png_4.png}{Индексирование изменений и их проверка}

\section{Коммит}

Теперь, чтобы сохранить изменнения в репозитории, необходимо сделать коммит.
Для этого существует команда \texttt{git~commit~-m~"текст~коммита"}
(см.~рисунок~\ref{fig:Коммит})
Флаг \texttt{-m} позволяет сразу добавить коментарий при вводе команды, без
него git, для комментария, откроет текстовый редактор,
установленный по умолчанию, обычно это vim.

\img{./gall_1/png_5.png}{Коммит}

\section{Как работает индексация}
Выполним подряд следующие шаги:
\begin{enumerate}
	\item Изменим еще один файл.
	\item Добавим это изменение в индекс git.
	\item Изменим файл еще раз.
	\item Проверим состояние и произведем коммит проиндексированного
	изменения.
	\item Добавим второе изменение в индекс,
	а затем проверим состояние с помощью команды \texttt{git~status}.
	\item Сделаем коммит второго изменения.
\end{enumerate}

Результаты проделанных шагов проиллюстрированы на
рисунках~\ref{fig:Коммит первого проиндексированного изменения}-\ref{fig:Коммит второго проиндексированного изменения}.

\img{./gall_1/png_6.png}{Коммит первого проиндексированного изменения}

\img{./gall_1/png_7.png}{Коммит второго проиндексированного изменения}

\section{История коммитов}
Для просмотра истории коммитов используется команда: \texttt{git~log}
(Рисунок\ref{fig:История коммитов})
\img{./gall_1/png_8.png}{История коммитов}

Для уточнения формата лога используется флаг \verb|--pretty=format:”...”|.

Для примера выполните команду:
\begin{verbatim}
git log --pretty=format:"%h %ad | %s%d [%an]" --graph --date=short
\end{verbatim}

Рассмотрим её в деталях:
\begin{itemize}
	\item \texttt{\%h} — укороченный хэш коммита
	\item \texttt{\%d} — дополнения коммита («головы» веток или теги)
	\item \texttt{\%ad} — дата коммита
	\item \texttt{\%s} — комментарий
	\item \texttt{\%an} — имя автора
	\item \verb|--graph| — отображает дерево коммитов в виде ASCII-графика
	\item \verb|--date=short| — сохраняет формат даты коротким
\end{itemize}

Приведем пирмер одного из форматирования вывода
истории~(см.~рис.~\ref{fig:Форматирование истории коммитов}).

\img{./gall_1/png_9.png}{Форматирование истории коммитов}

\section{Отмена изменений}
Для отмены изменений в репозитории существует команда \texttt{git~reset},
которая переместит HEAD и текущую ветку обратно туда, куда вы укажете,
отказавшись от любых коммитов, которые могут быть оставлены позади.
Далее останется очистить индекс командой \texttt{git restore}.
И так, чтобы вернуть директорию в предыдущее состояние введем
слудующие команды:
\begin{verbatim}
	git reser --soft HEAD^
	git restore --staged 2.txt
\end{verbatim}
Результат этих команд проиллуюстрирован на рисунке \ref{fig:Возвращение рабочего каталога к предыдущему состоянию}.
\img{./gall_1/png_10.png}{Возвращение рабочего каталога к предыдущему состоянию}

\section{Создание тега}

Git использует два основных типа тегов: легковесные и аннотированные.

Легковесный тег ---это что-то очень похожее на ветку,
которая не изменяется --- просто указатель на определённый коммит.

А вот аннотированные теги хранятся в базе данных Git как полноценные объекты.
Они имеют контрольную сумму, содержат имя автора, его e-mail и дату создания,
имеют комментарий и могут быть подписаны и проверены с помощью
GNU Privacy Guard (GPG). Обычно рекомендуется создавать аннотированные теги,
чтобы иметь всю перечисленную информацию; но если вы хотите сделать
временную метку или по какой-то причине не хотите сохранять остальную
информацию, то для этого годятся и легковесные.

\subsection{Аннотированные теги}
Создание аннотированного тега в Git выполняется легко.
Самый простой способ --- это указать -a при выполнении команды tag:

\begin{verbatim}
	git tag -a <имя тега> -m "my version 1.4"
\end{verbatim}

Опция -m задаёт сообщение, которое будет храниться вместе с тегом.
Если не указать сообщение, то Git запустит редактор,
чтобы вы смогли его ввести.

\subsection{Легковесный теги}
Легковесный тег --- это ещё один способ пометить коммит.
По сути,
это контрольная сумма коммита, сохранённая в файл --- больше никакой
информации не хранится.
Для создания легковесного тега не передавайте
опций -a, -s и -m, укажите только название:

\begin{verbatim}
	git tag <имя тега>
\end{verbatim}

Создание легковесного тега показано на рисунке \ref{fig:Создание тега}.

\img{./gall_1/png_11.png}{Создание тега}

\section{Отмена изменений в индексе}
\subsection{Отмена изменений (до индексации)}
Для отмены изменений необходимо выполнить команду:
\begin{verbatim}
	git checkout master
\end{verbatim}
Результат выполнения этой команды показан
на рисунке~\ref{fig:Отмена изменений (до индексации)}.

\img{./gall_1/png_12.png}{Отмена изменений (до индексации)}

\subsection{Отмена изменений (после индексации)}
Для отмены изменений, уже проиндексированных, необходимо выполнить команду:
\begin{verbatim}
	git reset HEAD имя_файла
\end{verbatim}
Результат выполнения этой команды показан на рисунке~\ref{fig:тмена изменений (после индексации)}.

\img{./gall_1/png_13.png}{Отмена изменений (после индексации)}

\section{Отмена коммита}
Для отмены изменений в репозитории существует команда: \texttt{git~reset},
которая переместит HEAD и текущую ветку обратно туда, куда вы укажете,
отказавшись от любых коммитов, которые могут быть оставлены позади.
Данное действие уже показано на рисунке \ref{fig:Возвращение рабочего каталога к предыдущему состоянию}.